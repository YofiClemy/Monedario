---
layout: default
title: Roadmap
nav_order: 3
---

<section id="roadmap"></section>
<p id="fallback" hidden>
  Canâ€™t load the embedded roadmap.
  View the project: <a href="https://github.com/users/YofiClemy/projects/1" target="_blank" rel="noopener">GitHub Project</a>
</p>

<style>
:root { --brand:#08413B; }
.roadmap{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.col{border:1px solid #e5e7eb;border-radius:12px;padding:12px;background:#fff}
.col h3{margin:0 0 8px 0;font-size:1rem;display:flex;align-items:center;gap:.5rem}
.count{background:#eef2f7;border:1px solid #e5e7eb;border-radius:999px;padding:2px 8px;font-size:.75rem}
.card{padding:10px;border:1px solid #e5e7eb;border-radius:10px;margin:8px 0;background:#fff}
.card a{color:var(--brand);text-decoration:none}
.status{font-size:.8rem;opacity:.7}
@media (prefers-color-scheme: dark){ .col,.card{background:#0b0f14;border-color:#1f2937} .count{background:#111827;border-color:#374151;color:#cbd5e1} .card a{color:#22b3a6} }
</style>

<script>
(async ()=>{
  const root = document.getElementById('roadmap');
  const fallback = document.getElementById('fallback');

  const dataUrl = "https://yoficlemy.github.io/Monedario/data/roadmap.json";

  try {
    const res = await fetch(dataUrl, { cache: 'no-store' });
    if (!res.ok) throw new Error('HTTP '+res.status+' fetching '+dataUrl);
    const { items = [], updatedAt } = await res.json();

    const columns = ["Now","Planned","Under Review","In Progress","Done"];
    const byStatus = Object.fromEntries(columns.map(c => [c, []]));

    // Your statuses: "In progress", "Planned - accepted", "Under review", "Done"
    const map = s => {
      s = (s||"").toLowerCase();
      if (/in\s*progress|now/.test(s)) return "In Progress";
      if (/planned/.test(s))          return "Planned";
      if (/under\s*review|backlog/.test(s)) return "Under Review";
      if (/done|completed|shipped/.test(s)) return "Done";
      return "Planned"; // default bucket
    };

    for (const it of items) byStatus[map(it.status)].push(it);

    root.innerHTML = `
      <p class="status">Updated ${new Date(updatedAt).toLocaleString()}</p>
      <div class="roadmap">
        ${columns.map(c=>`
          <div class="col">
            <h3>${c} <span class="count">${byStatus[c].length}</span></h3>
            ${byStatus[c].map(it=>`
              <div class="card">
                <div><a href="${it.url ?? '#'}" target="_blank" rel="noopener">${it.title}</a></div>
                ${it.repo ? `<div class="status">${it.repo}</div>` : ''}
                ${it.labels?.length ? `<div style="margin-top:4px">${it.labels.map(l=>`<span class="count">${l}</span>`).join(' ')}</div>` : ''}
              </div>
            `).join('') || '<div class="status">No items yet.</div>'}
          </div>
        `).join('')}
      </div>
    `;
  } catch (err) {
    console.error(err);
    fallback.hidden = false;
  }
})();
</script>
